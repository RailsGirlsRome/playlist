<div class="page-header">
  <h2>
    <%= @playlist.user.username %>
    <small><%= pluralize(@playlist.songs.count, 'Song') %></small>
  </h2>
</div>

<% if @playlist.songs.empty? %>
  <p class="muted">
    There are no songs here.
  </p>
<% else %>
  <table id="playlist-songs" class="table table-striped">
    <%= render(@playlist.songs.rank(:row_order)) %>
  </table>
<% end %>

<% if @playlist.can_modify?(current_user) %>
  <hr />
  <%= form_for([ @playlist, @playlist.songs.build ], :html => { :multipart => true, :class => "form-horizontal" }) do |form| %>
    <legend>
      Upload a Song
    </legend>
    <div class="control-group">
      <%= form.label :file, :class => "control-label" %>
      <div class="controls">
        <%= form.file_field :file %>
      </div>
    </div>

    <div clas="control-group">
      <div class="controls">
        <button type="submit" class="btn btn-primary">Upload</button>
      </div>
    </div>
  <% end %>
<% end %>
